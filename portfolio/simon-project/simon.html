<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Simon</title>
    <link rel="stylesheet" href="css/simon.css">
</head>
<body>

    <div class="circle">
        <div class="inner-circle">
            <h3>SIMON</h3>
            <button id="start">New Game</button>
            <p>Round: <span id="count">0</span></p>
        </div>
        <div class="bottom-right"></div>
        <div class="bottom-left"></div>
        <div class="top-right"></div>
        <div class="top-left"></div>
        <div class="bottom-right2"></div>
        <div class="bottom-left2"></div>
        <div class="top-right2"></div>
        <div class="top-left2"></div>
    </div>
    <script
            src="http://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous">
    </script>


    <script src="js/accessory.js"></script>
    <script>
        "use strict";

        // player copies color
        // simon does previous color, then adds color
        // player copies sequence
        // if player fails, game over.

        var simonsPicks = [];
        var playerPicks = [];
        var count = 0;
        var green = 0;
        var red = 1;
        var yellow = 2;
        var blue = 3;




        function simonsColor(){
            var simonNum = Math.floor(Math.random() * 4);
            simonsPicks.push(simonNum)
        }


        var testSimon = [1, 0, 0, 2, 3 ];

        function runSimon(arr) {
            arr.forEach(function (num, index) {
                if(num === green){
                    setTimeout(function () {
                        greenLight();
                    }, ((index + 1) * 1000) + 800)

                }else if(num === red){

                    setTimeout(function () {
                        redLight();
                    }, (index + 1) * 1000 + 800)

                }else if(num === yellow){

                    setTimeout(function () {
                       yellowLight();
                    }, ((index + 1) * 1000) + 800)

                }else if(num === blue) {

                    setTimeout(function () {
                       blueLight();
                    }, ((index + 1) * 1000) + 800)
                }
            })
        }
        $('#start').click(function () {
            simonsColor();
            runSimon(simonsPicks);
            console.log(simonsPicks);
            count += 1;
        });

        function nextRound{
            simonsColor();
            runSimon(simonsPicks);
            console.log(simonsPicks);
            count += 1;
        }

         // PLAYER PICKS

        $('.top-left').click(function () {
            playerPicks.push(green);
            greenLight();
        });
        $('.top-right').click(function () {
            playerPicks.push(red);
            redLight();
        });
        $('.bottom-left').click(function () {
            playerPicks.push(yellow);
            yellowLight();
        });
        $('.bottom-right').click(function () {
            playerPicks.push(blue);
            blueLight();
            console.log(playerPicks);
        });

        //GAMEPLAY

        $('.top-left, .top-right, .bottom-left, .bottom-right').click(function () {
            if(playerPicks.join(',') === simonsPicks.join(',')){
                console.log('good')

            }else{
                alert('game over')
            }
        })




    </script>
</body>
</html>